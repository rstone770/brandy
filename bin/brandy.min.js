/**!
 * brandy 1.0.0 - A tiny IoC container.
 * http://www.github.com/rstone770/brandy
 *
 * Licensed MIT
 */
!function(e){"use strict";var n=function(e,n){var t=e;return null!=n&&(t+="("+n+")"),t},t=function(e){this._map=e,this._cache={}};t.prototype={bind:function(e,n,t){var i=t||{},o=i.dependencies||[],s=i.lifecycle;if("function"!=typeof n)throw new TypeError("Implementation must be a constructor.");if(o.constructor!==Array)throw new TypeError("Dependencies must be an array.");return this.factory(e,r(n,c.call(i.dependencies)),s)},factory:function(e,n,t){if("function"!=typeof n)throw new Error("Factory must be a function.");if(null!=t&&"string"!=typeof t)throw new Error("Lifecycle must be a string.");return this._map.set(e,{factory:n,id:o(),lifecycle:u.parse(t||u.DEFAULT),pending:!1}),this},instance:function(e,t){var r=this._map.get(e),i=null;if(null==r)throw new Error("Dependency "+n(e)+" could not be resolved because it has not been registered.");if(r.pending===!0)throw new Error("Circular dependency detected while resolving "+n(e,r.id)+".");r.pending=!0;try{switch(r.lifecycle){case u.SINGLETON:i=this._singleton(r);break;case u.TRANSIENT:i=this._transient(r);break;default:throw new Error("Unsupported lifecycle "+r.lifecycle+".")}}finally{r.pending=!1}if(null==i&&t)throw new Error(n(e,r.id)+" did not return a value.");return i},_singleton:function(e){return null==this._cache[e.id]&&(this._cache[e.id]=this._transient(e)),this._cache[e.id]},_transient:function(e){return e.factory(this)}};var r=function(e,n){return function(t){return i(e,n.map(function(e){return t.instance(e)}))}},i=function(e,n){return new(Function.bind.apply(e,[null].concat(n)))},o=function(){var e=0,n=function(){return":"+e++};return n}(),c=Array.prototype.slice,s=(Object.prototype.hasOwnProperty,function(){return new t(new a)});s.version="1.0.0",function(n,t){"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof exports&&module.exports?module.exports=t:e.Brandy=s}(e,s);var u={TRANSIENT:"TRANSIENT",SINGLETON:"SINGLETON",DEFAULT:"SINGLETON",parse:function(e){if("string"==typeof e){var n=e.toUpperCase();if(this[n]==n)return n}throw new Error("Unable to parse "+e+" as Lifecycle.")}},a=function(n){var t="Map"in e,r=function(){this._keys=[],this._values=[]};return r.prototype={get:function(e){return this._values[this._keys.indexOf(e)]},set:function(e,n){var t=this._keys.indexOf(e);return-1===t?(this._keys.push(e),this._values.push(n)):(this._keys[t]=e,this._values[t]=n),this}},t?e.Map:r}(e)}(this);
//# sourceMappingURL=brandy.min.js.map
